From eb958bd938bffdce827fe54b8c3d26a83206887e Mon Sep 17 00:00:00 2001
From: AD-Aleksandrov <aleksandr.aleksandrov@emlid.com>
Date: Wed, 10 Jan 2018 17:17:08 +0300
Subject: [PATCH] arm: dts: allwinner: fix DT file for emlid-iota: gpio pins

---
 .../boot/dts/allwinner/sun50i-h5-emlid-iota.dts      | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

diff --git a/arch/arm64/boot/dts/allwinner/sun50i-h5-emlid-iota.dts b/arch/arm64/boot/dts/allwinner/sun50i-h5-emlid-iota.dts
index 668e503..11ecb6f 100644
--- a/arch/arm64/boot/dts/allwinner/sun50i-h5-emlid-iota.dts
+++ b/arch/arm64/boot/dts/allwinner/sun50i-h5-emlid-iota.dts
@@ -64,19 +64,19 @@
 		stdout-path = "serial0:115200n8";
 	};
 
-	/*reg_usb0_vbus: usb0-vbus {
+	reg_usb0_vbus: usb0-vbus {
 		compatible = "regulator-fixed";
 		regulator-name = "usb0-vbus";
 		regulator-min-microvolt = <5000000>;
 		regulator-max-microvolt = <5000000>;
 		enable-active-high;
-		gpio = <&r_pio 0 2 GPIO_ACTIVE_HIGH>;
+		gpio = <&r_pio 0 9 GPIO_ACTIVE_HIGH>;   /* PL9 */
 		status = "okay";
-	};*/
+	};
 
     wifi_pwrseq: wifi_pwrseq {
         compatible = "mmc-pwrseq-simple";
-        reset-gpios = <&pio 0 9 GPIO_ACTIVE_LOW>; /* PA9 */
+        reset-gpios = <&pio 2 7 GPIO_ACTIVE_LOW>;   /* PC7 */
         post-power-on-delay-ms = <200>;
     };
 
@@ -84,7 +84,7 @@
         compatible = "rfkill-gpio";
         pinctrl-names = "default";
         pinctrl-0 = <&bt_rst_n_pin>;
-        reset-gpios = <&pio 0 10 GPIO_ACTIVE_HIGH>;     /* PA10 */
+        reset-gpios = <&pio 2 4 GPIO_ACTIVE_HIGH>;     /* PC4 */
         name = "bcm43xx";
         type = "bluetooth";
     };
@@ -92,7 +92,7 @@
 
 &r_pio {
     wifi_wake: wifi_wake@0 {
-        pins = "PL7";
+        pins = "PL5";
         function = "irq";
         bias-pull-up;
     };
@@ -121,7 +121,7 @@
         reg = <1>;
         compatible = "brcm,bcm4329-fmac";
         interrupt-parent = <&r_pio>;
-        interrupts = <0 7 IRQ_TYPE_LEVEL_LOW>; /* PL7 / EINT7 */
+        interrupts = <0 5 IRQ_TYPE_LEVEL_LOW>;      /* PL5 */
         interrupt-names = "host-wake";
         pinctrl-names = "default";
         pinctrl-0 = <&wifi_wake>;
@@ -151,8 +151,8 @@
 
 &usbphy {
 	/* USB Type-A ports' VBUS is always on */
-	usb0_id_det-gpios = <&pio 0 21 GPIO_ACTIVE_HIGH>; /* PA21 */
-	/* usb0_vbus-supply = <&reg_usb0_vbus>; */
+	usb0_id_det-gpios = <&r_pio 0 8 GPIO_ACTIVE_HIGH>;   /* PL8 */
+	usb0_vbus-supply = <&reg_usb0_vbus>;
 	status = "okay";
 };
 
@@ -168,7 +168,7 @@
     };
 
     bt_rst_n_pin: bt_rst_n_pin@0 {
-        pins = "PA10";
+        pins = "PC4";
         function = "gpio_out";
     };
 };
-- 
2.7.4

